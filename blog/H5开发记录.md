---
slug: h5
tags: [h5, 记录]
---

## 页面适配
[移动端H5开发之页面适配篇](https://cloud.tencent.com/developer/article/2020264)

[postcss-pxtorem 总是搭配 amfe-flexible 一起使用](https://juejin.cn/post/7204471780140466231)
- [postcss-pxtorem](https://github.com/cuth/postcss-pxtorem)
- [amfe-flexible](https://github.com/amfe/lib-flexible)
```bash
pnpm add -D postcss-pxtorem
pnpm add amfe-flexible
```
```ts title="vite.config.ts"
import { defineConfig } from 'vite';
import react from '@vitejs/plugin-react';
import postCssPxToRem from 'postcss-pxtorem';

export default defineConfig({
  plugins: [
    react(),
  ],
  css: {
    postcss: {
      plugins: [
        postCssPxToRem({
          rootValue: 75, // 设计稿宽度750px
          propList: ['*'], // 所有px都转换成rem
          selectorBlackList: ['nut-'], // 忽略选择器为'nut-'开头的元素的px
        })
      ]
    }
  },
})
```
```tsx title="main.tsx"
import 'amfe-flexible';
```

## 抓包工具
- Charles

## 调试工具
1. [vconsole](https://github.com/Tencent/vConsole/blob/dev/README_CN.md)

2. [eruda](https://github.com/liriliri/eruda/blob/master/README_CN.md)
通过 url 参数来控制是否加载调试器，即当前端拼接了`eruda=true`参数的时候，才会引入对应的js文件
```js
;(function () {
  var src = '//cdn.jsdelivr.net/npm/eruda';
  if (!/eruda=true/.test(window.location) && localStorage.getItem('active-eruda') != 'true') return;
  document.write('<scr' + 'ipt src="' + src + '"></scr' + 'ipt>');
  document.write('<scr' + 'ipt>eruda.init();</scr' + 'ipt>');
})();
```

## 真机本地调试
### [spy-debugger](https://github.com/wuchangming/spy-debugger)
1. 安装：`sudo npm install spy-debugger -g`
2. 手机和PC保持在同一网络下（比如连到同一个Wi-Fi或手机热点）
3. 命令行输入spy-debugger，按命令行提示用浏览器打开相应地址。
4. 设置手机连接网络的HTTP代理，代理IP地址设置为PC的IP地址，端口为spy-debugger的启动端口(默认端口：9888)。
5. 手机安装证书。注：手机必须先设置完代理后再通过手机扫码器(非微信)扫如下二维码安装证书([二维码地址](https://github.com/wuchangming/spy-debugger/blob/master/demo/img/QRCodeForCert.png))（注意：手机首次调试需要安装证书，已安装了证书的手机无需重复安装。iOS新安装的证书需要手动打开证书信任)。
6. 用手机浏览器访问你要调试的页面即可。

## 二维码生成器
- 草料二维码
- Chrome插件：Quick QR二维码生成器

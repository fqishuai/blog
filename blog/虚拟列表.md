---
slug: virtual-list
tags: [优化]
---

虚拟列表的思路：只渲染展示当前可见区域内的内容，当内容已出可见区域外时只作简单渲染。
关键是要计算出哪些 dom 出现在可视区域需要实际渲染，哪些在视野外只需简单渲染。
传统方案一般是监听 scroll, 在回调方法中 手动计算偏移量然后计算定位，由于 scroll 事件密集发生，计算量很大，容易造成性能问题。
IntersectionObserver API 作为浏览器原生的API可以做到“观察”所需元素是否需要在页面上显示，以此来对大量数据的渲染进行优化。